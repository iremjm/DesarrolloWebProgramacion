package gui;
import java.util.InputMismatchException;
import java.util.Scanner;
import model.GestorTarea;
import model.Tarea;
public class Programa {
	private static Scanner sc= new Scanner(System.in);
	private static final int OPCION_SALIDA = 6;
	private static GestorTarea gt=new GestorTarea();
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		int opc=0;
		do{
			//Mostrar menu
			mostrarMenu();
			//leer la opción selecionada
			opc=leerOpcion();
			//ejecutar la opción seleccionada
			ejecutarOpcion(opc);
		}while(opc!=OPCION_SALIDA);
	}//main
	
		private static void mostrarMenu(){
			System.out.println("***** MENÚ TAREAS *****");
			System.out.println("1.- Añadir Tarea");
			System.out.println("2.- Finalizar Tarea");
			System.out.println("3.- Listar todas");
			System.out.println("4.- Listar realizadas");
			System.out.println("5.- Listar no realizadas");
			System.out.println("6.- Salir");
			System.out.print("Opción: ");
		}
		private static int leerOpcion(){
			int opc;
			try{//POSIBLE ERROR... Si no se insterta un número
				opc=sc.nextInt();
				sc.nextLine();
				return opc;
			}catch (InputMismatchException e){
				System.out.println("La opción ha de ser un número !!");
				
				//para saltar lo escrito anteiormente
				sc.nextLine();
				//espera a que el usuario pulse intro
				pulsaintro();
				return 0;//vuleve a mostrar el menu
			}//catch
		
		}//leerOpcion
		private static void pulsaintro() {
			System.out.println("Pulse intro para continuar...");
			//esperar que pulse intro
			sc.nextLine();	
		}

		private static void ejecutarOpcion(int opc){
			switch(opc){
			case 0://es cuando el usuario ha introducido algo no númerico en opc.
				break;
			case 1://añadir Tarea
			AnnadirTarea();
				break;
			case 2://Finnalizar Tarea
				finTarea();
				break;
			case 3://Listar tareas
				listarTodasTareas();
				break;
			case 4://Listar Realizadas
				
				break;
			case 5://Listar no Realizadas
				
				break;
			case 6://salir
				System.out.println("Ha salido del programa.");
				break;
			default://error
				System.out.println("La opción tiene que ser entre 0 y "+ OPCION_SALIDA);
			}//switch
		}//ejecutaopcion
		private static void AnnadirTarea() {
			//pedir nombre tarea			
			//crear objeto tarea. Se pide mediante pedirTitulo()
			Tarea t1=new Tarea(pedirTitulo());
			gt.addTarea(t1);
			//crear tarea. 
			//pedir al gestor de tareas que añada esta tarea
		}
		private static void finTarea() {
			//pedir datos de la tarea al usuario.Se pide mediante pedirTitulo()
			//pedir al gestor que finalice la tarea.
			gt.finTarea(pedirTitulo());
		}//finTarea()
		private static String pedirTitulo(){
		//pedir datos de la tarea al usuario.
		System.out.println("Ingresa el título de la tarea.");
		String titulo=sc.nextLine();
		return titulo;
		}
		private static void listarTodasTareas() {
			//Pedir al gestor todas las tareas
			gt.getTareas(GestorTareas.LISTAR_TODAS);
			//Recorrer el array de tareas e imprimirlas.
			
		}
	}//programa


